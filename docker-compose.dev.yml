version: "3"

services:
  server:
    build: ./server
    container_name: server_backend
    dockerfile: Dockerfile.dev
    image: server_img
    # dockerfile: Dockerfile
    ports:
      - '8080:8080'
    volumes:
      - ./server:/app
      # - .server/:/app/node_modules
    networks:
      - web_network

  web:
    build: ./web
    container_name: web_client
    dockerfile: Dockerfile.dev
    image: web_img
    ports:
      - '3000:3000'
    volumes:
      - ./web:/app/
      # - .web/:/app/node_modules
    depends_on:
      - server
    networks:
      - web_network

volumes:
  server:
  web:

networks:
  web_network: